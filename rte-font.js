(function (window, document) {
    var fontSizeObj = {
        "heroPriceLarge":
        {
            "displayName": "Hero Price (Large)",
            "mobile": "38px",
            "tablet": "60px",
            "desktop": "110px",
            "extraLarge": "150px",
            "lineHeight":
            {
                "carters":
                {
                    "mobile": 1,
                    "tablet": .9,
                    "desktop": .9,
                    "extraLarge": .9
                },
                "oshkosh":
                {
                    "mobile": 1,
                    "tablet": .9,
                    "desktop": .9,
                    "extraLarge": .9
                },
                "skiphop":
                {
                    "mobile": 1,
                    "tablet": .9,
                    "desktop": .9,
                    "extraLarge": .9
                },
                "cartersoshkoshca":
                {
                    "mobile": 1,
                    "tablet": .9,
                    "desktop": .9,
                    "extraLarge": .9
                }
            }
        },
        "heroPriceSmall":
        {
            "displayName": "Hero Price (Small)",
            "mobile": "38px",
            "tablet": "60px",
            "desktop": "90px",
            "extraLarge": "110px",
            "lineHeight":
            {
                "carters":
                {
                    "mobile": 1,
                    "tablet": .9,
                    "desktop": .9,
                    "extraLarge": .9
                },
                "oshkosh":
                {
                    "mobile": 1,
                    "tablet": .9,
                    "desktop": .9,
                    "extraLarge": .9
                },
                "skiphop":
                {
                    "mobile": 1,
                    "tablet": .9,
                    "desktop": .9,
                    "extraLarge": .9
                },
                "cartersoshkoshca":
                {
                    "mobile": 1,
                    "tablet": .9,
                    "desktop": .9,
                    "extraLarge": .9
                }
            }
        },
        "headline1":
        {
            "displayName": "Headline 1 (Clearance Pricing)",
            "mobile": "12.2vw",
            "tablet": "6.4vw",
            "desktop": "5.8vw",
            "extraLarge": "75px",
            "lineHeight":
            {
                "carters":
                {
                    "mobile": 1,
                    "tablet": .9,
                    "desktop": .9,
                    "extraLarge": .9
                },
                "oshkosh":
                {
                    "mobile": 1,
                    "tablet": .9,
                    "desktop": .9,
                    "extraLarge": .9
                },
                "skiphop":
                {
                    "mobile": 1,
                    "tablet": .9,
                    "desktop": .9,
                    "extraLarge": .9
                },
                "cartersoshkoshca":
                {
                    "mobile": 1,
                    "tablet": .9,
                    "desktop": .9,
                    "extraLarge": .9
                }
            }
        },
        "headline2":
        {
            "displayName": "Headline 2 (Pricing Down Page)",
            "mobile": "8.6vw",
            "tablet": "4.7vw",
            "desktop": "4.5vw",
            "extraLarge": "60px",
            "lineHeight":
            {
                "carters":
                {
                    "mobile": 1,
                    "tablet": 1,
                    "desktop": .9,
                    "extraLarge": .9
                },
                "oshkosh":
                {
                    "mobile": 1,
                    "tablet": 1,
                    "desktop": .9,
                    "extraLarge": .9
                },
                "skiphop":
                {
                    "mobile": 1,
                    "tablet": 1,
                    "desktop": .9,
                    "extraLarge": .9
                },
                "cartersoshkoshca":
                {
                    "mobile": 1,
                    "tablet": 1,
                    "desktop": .9,
                    "extraLarge": .9
                }
            }
        },
        "headline3":
        {
            "displayName": "Headline 3",
            "mobile": "7.5vw",
            "tablet": "4vw",
            "desktop": "3.3vw",
            "extraLarge": "46px",
            "lineHeight":
            {
                "carters":
                {
                    "mobile": 1,
                    "tablet": 1,
                    "desktop": 1,
                    "extraLarge": 1
                },
                "oshkosh":
                {
                    "mobile": 1,
                    "tablet": 1,
                    "desktop": 1,
                    "extraLarge": 1
                },
                "skiphop":
                {
                    "mobile": 1,
                    "tablet": 1,
                    "desktop": 1,
                    "extraLarge": 1
                },
                "cartersoshkoshca":
                {
                    "mobile": 1,
                    "tablet": 1,
                    "desktop": 1,
                    "extraLarge": 1
                }
            }
        },
        "headline4":
        {
            "displayName": "Headline 4",
            "mobile": "6.4vw",
            "tablet": "3.5vw",
            "desktop": "2.7vw",
            "extraLarge": "38px",
            "lineHeight":
            {
                "carters":
                {
                    "mobile": 1.2,
                    "tablet": 1,
                    "desktop": 1,
                    "extraLarge": 1
                },
                "oshkosh":
                {
                    "mobile": 1.2,
                    "tablet": 1,
                    "desktop": 1,
                    "extraLarge": 1
                },
                "skiphop":
                {
                    "mobile": 1.2,
                    "tablet": 1,
                    "desktop": 1,
                    "extraLarge": 1
                },
                "cartersoshkoshca":
                {
                    "mobile": 1.2,
                    "tablet": 1,
                    "desktop": 1,
                    "extraLarge": 1
                }
            }
        },
        "headline5":
        {
            "displayName": "Headline 5 (\"$\" With Price)",
            "mobile": "5.8vw",
            "tablet": "3vw",
            "desktop": "2.4vw",
            "extraLarge": "32px",
            "lineHeight":
            {
                "carters":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1,
                    "extraLarge": 1
                },
                "oshkosh":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1,
                    "extraLarge": 1
                },
                "skiphop":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1,
                    "extraLarge": 1
                },
                "cartersoshkoshca":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1,
                    "extraLarge": 1
                }
            }
        },
        "subhead1":
        {
            "displayName": "Subhead 1",
            "mobile": "5.2vw",
            "tablet": "2.8vw",
            "desktop": "2.1vw",
            "extraLarge": "28px",
            "lineHeight":
            {
                "carters":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1
                },
                "oshkosh":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1
                },
                "skiphop":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1
                },
                "cartersoshkoshca":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1
                }
            }
        },
        "subhead2":
        {
            "displayName": "Subhead 2",
            "mobile": "4.4vw",
            "tablet": "2.2vw",
            "desktop": "1.9vw",
            "extraLarge": "24px",
            "lineHeight":
            {
                "carters":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1.2
                },
                "oshkosh":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1.2
                },
                "skiphop":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1.2
                },
                "cartersoshkoshca":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1.2
                }
            }
        },
        "subhead3":
        {
            "displayName": "Subhead 3",
            "mobile": "4.4vw",
            "tablet": "2.2vw",
            "desktop": "1.6vw",
            "extraLarge": "18px",
            "lineHeight":
            {
                "carters":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1.2
                },
                "oshkosh":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1.2
                },
                "skiphop":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1.2
                },
                "cartersoshkoshca":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1.2
                }
            }
        },
        "callout":
        {
            "displayName": "Callouts",
            "mobile": "14px",
            "tablet": "14px",
            "desktop": "14px",
            "extraLarge": "14px",
            "lineHeight":
            {
                "carters":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1.2
                },
                "oshkosh":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1.2
                },
                "skiphop":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1.2
                },
                "cartersoshkoshca":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1.2
                }
            }
        },
        "exclusion":
        {
            "displayName": "Exclusions/Legal",
            "mobile": "11px",
            "tablet": "11px",
            "desktop": "11px",
            "extraLarge": "11px",
            "lineHeight":
            {
                "carters":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1.2
                },
                "oshkosh":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1.2
                },
                "skiphop":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1.2
                },
                "cartersoshkoshca":
                {
                    "mobile": 1.2,
                    "tablet": 1.2,
                    "desktop": 1.2,
                    "extraLarge": 1.2
                }
            }
        }
    };
    var fontColorArr = ['1D1D1D', '444', '777', 'CCC', 'EBEBEB', 'FBFBFB', 'FFF', 'DD172B', '66B20E', 'F7C90B', '1A73E8', '660099'];
    var fontFamilyArr = ['Poppins-Light', 'Poppins-Regular', 'Poppins-SemiBold', 'Poppins-Bold'];

    var configBrand = document.body.dataset.brand;

    if (configBrand == 'oshkosh') {
        fontColorArr = fontColorArr.concat(["003057", "005ECF", "79C151", "00BF6F", "CCDC00", "FCD428", "EA0029"]);
        fontFamilyArr = fontFamilyArr.concat(["OKBG-Chelsea-Sans-Light|OKBGChelseaSans-Light", "OKBG-Chelsea-Sans-Regular|OKBGChelseaSans-Regular", "OKBG-Chelsea-Sans-Bold|OKBGChelseaSans-Bold", "OKBG-Chelsea-Texture|OKBGChelseaTexture-Bold", "PermanentMarker|PermanentMarker-Regular", "Courier-Prime-Bold|CourierPrime-Bold", "Courier-Prime-Regular|CourierPrime-Regular"]);
    } else if (configBrand == 'skiphop') {
        fontColorArr = fontColorArr.concat(["EE3124", "68686C", "35C0ED"]);
        fontFamilyArr = fontFamilyArr.concat(["Open-Sans-Light|OpenSans-Light-webfont", "Open-Sans-Regular|OpenSans-Regular", "Open-Sans-Semibold|OpenSans-Semibold", "Open-Sans-Bold|OpenSans-Bold"]);
    } else if (configBrand == 'cartersoshkoshca') {
        fontColorArr = fontColorArr.concat(["00A9E0", "66CBEC", "CCEEF9", "FAFAFA", "EA0029", "79C151", "00BF6F", "003057", "005ECF", "EE3124", "68686C", "35C0ED", "EE3124"]);
        fontFamilyArr = fontFamilyArr.concat(["Poppins-Light|Poppins-Light", "Poppins-Regular|Poppins-Regular", "Poppins-SemiBold|Poppins-SemiBold", "Poppins-Bold|Poppins-Bold", "Spartan-Regular|Spartan-Regular", "Spartan-Medium|Spartan-Medium", "Spartan-SemiBold|Spartan-SemiBold", "Spartan-Bold|Spartan-Bold", "Open-Sans-Light|OpenSans-Light-webfont", "Open-Sans-Regular|OpenSans-Regular", "Open-Sans-Semibold|OpenSans-Semibold", "Open-Sans-Bold|OpenSans-Bold", "OKBG-Chelsea-Sans-Regular|OKBGChelseaSans-Regular", "OKBG-Chelsea-Sans-Bold|OKBGChelseaSans-Bold"]);
    } else {
        fontColorArr = fontColorArr.concat(["00A9E0", "66CBEC", "CCEEF9", "FAFAFA", "EA0029", "79C151", "00BF6F", "003057", "005ECF"]);
        fontFamilyArr = fontFamilyArr.concat(["Spartan-Regular|Spartan-Regular", "Spartan-Medium|Spartan-Medium", "Spartan-SemiBold|Spartan-SemiBold", "Spartan-Bold|Spartan-Bold", "Source-Sans-Pro-Regular|SourceSansPro-Regular", "Source-Sans-Pro-Semibold|SourceSansPro-SemiBold", "Source-Sans-Pro-Bold|SourceSansPro-Bold", "Source-Sans-Pro-Black|SourceSansPro-Black", "CrayonCrumble|CrayonCrumble", "Little-Dreamer-Filled|LittleDreamerFilled", "Little-Dreamer-Outline|LittleDreamer", "Oranges-And-Lemons-Script|Oranges-And-Lemons-Script", "Oranges-And-Lemons-Script-Upright|Oranges-And-Lemons-Script-Upright", "Oranges-And-Lemons-Caps|Oranges-And-Lemons-Caps"]);
    }

    var rteFontSizesString = '';

    Object.keys(fontSizeObj).map(it => {
        if (fontSizeObj[it]) {
            let fontname = it;
            let fontsize = fontSizeObj[it].mobile;
            let lineheight = fontSizeObj[it].lineHeight[configBrand].mobile;
            rteFontSizesString += `.rte-font-size-${fontname} {font-size: ${fontsize}; line-height: ${lineheight};}\n`;
        }
    });

    rteFontSizesString += "@media (min-width:768px) {\n";

    Object.keys(fontSizeObj).map(it => {
        if (fontSizeObj[it]) {
            let fontname = it;
            let fontsize = fontSizeObj[it].tablet;
            let lineheight = fontSizeObj[it].lineHeight[configBrand].tablet;
            rteFontSizesString += `.rte-font-size-${fontname} {font-size: ${fontsize}; line-height: ${lineheight};}\n`;
        }
    });

    rteFontSizesString += "}\n@media (min-width:1100px) {\n";

    Object.keys(fontSizeObj).map(it => {
        if (fontSizeObj[it]) {
            let fontname = it;
            let fontsize = fontSizeObj[it].desktop;
            let lineheight = fontSizeObj[it].lineHeight[configBrand].desktop;
            rteFontSizesString += `.rte-font-size-${fontname} {font-size: ${fontsize}; line-height: ${lineheight};}\n`;
        }
    });

    rteFontSizesString += "}\n@media (min-width:1600px) {\n";

    Object.keys(fontSizeObj).map(it => {
        if (fontSizeObj[it]) {
            let fontname = it;
            let fontsize = fontSizeObj[it].extraLarge;
            let lineheight = fontSizeObj[it].lineHeight[configBrand].extraLarge;
            rteFontSizesString += `.rte-font-size-${fontname} {font-size: ${fontsize}; line-height: ${lineheight};}\n`;
        }
    });

    rteFontSizesString += "}";

    var rteFontStylesString = `
        ${rteFontSizesString}
        ${fontColorArr.map(it => `.rte-font-color-${it}{ color: #${it};}`).join('\n')}
        ${fontFamilyArr.map(it => {
        var fontName = it.split('|')[0];
        var fontFile = it.split('|')[1] || fontName;
        return `
                 @font-face{font-family:"${fontName}"; src:url("/etc.clientlibs/carters/clientlibs/clientlib-site/resources/fonts/${fontFile}.woff2") format("woff2"), url("/etc.clientlibs/carters/clientlibs/clientlib-site/resources/fonts/${fontFile}.woff") format("woff");}
                 .rte-font-family-${fontName}{ font-family: ${fontName}; }
            `;
    }).join('\n')}`;

    window.rteFontOptions = {
        size: [{
            value: '',
            text: 'Size',
        }].concat(Object.keys(fontSizeObj).map(it => {
            let fontname = it;
            let displayname = fontSizeObj[it].displayName;
            return {
                value: `rte-font-size-${fontname}`,
                text: `${displayname}`
            }
        })),
        color: [{
            value: '',
            text: 'Color',
        }].concat(fontColorArr.map(it => {
            return {
                value: `rte-font-color-${it}`,
                text: `<label class="rte-font-color-${it}">#${it}</label>`
            }
        })),
        fontFamily: [{
            value: '',
            text: 'Type',
        }].concat(fontFamilyArr.map(it => {
            var className = `rte-font-family-${it.split('|')[0]}`;
            return {
                value: className,
                text: `<label class='${className}'>${it.split('|')[0].replace(/-/g, ' ')}</label>`
            }
        }))
    }

    function addStyleSheet(document, sheetString) {
        var styleEle = document.createElement("style");
        styleEle.type = "text/css";
        if (styleEle.styleSheet) {
            styleEle.styleSheet.cssText = sheetString;
        } else {
            styleEle.appendChild(document.createTextNode(sheetString));
        }
        document.head.appendChild(styleEle);
    }

    addStyleSheet(document, rteFontStylesString);
    (self != window.top) && addStyleSheet(window.top.document, rteFontStylesString);

    //Fix to remove list style for li elements with space
    $('li').each(function () {
        if ($(this).html() === "<b>&nbsp;</b>") {
            $(this).attr('style', 'list-style-type:none');
        }
    });
}(window, document));
